!function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(a){"use strict";function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=j),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(B);e||(e=new c(this,b),d.data(B,e))})}function c(b,c){function C(b){if(!(!0===wb.data(B+"_intouch")||a(b.target).closest(c.excludedElements,wb).length>0)){var h=b.originalEvent?b.originalEvent:b;if(!h.pointerType||"mouse"!=h.pointerType||0!=c.fallbackToMouseEvents){var i,j=h.touches,k=j?j[0]:h;return xb=u,j?yb=j.length:!1!==c.preventDefaultEvents&&b.preventDefault(),mb=0,nb=null,ob=null,ub=null,pb=0,qb=0,rb=0,sb=1,tb=0,(l={})[d]=bb(d),l[e]=bb(e),l[f]=bb(f),l[g]=bb(g),vb=l,X(),$(0,k),!j||yb===c.fingers||c.fingers===s||P()?(Ab=fb(),2==yb&&($(1,j[1]),qb=rb=db(zb[0].start,zb[1].start)),(c.swipeStatus||c.pinchStatus)&&(i=J(h,xb))):i=!1,!1===i?(J(h,xb=x),i):(c.hold&&(Gb=setTimeout(a.proxy(function(){wb.trigger("hold",[h.target]),c.hold&&(i=c.hold.call(wb,h,h.target))},this),c.longTapThreshold)),Z(!0),null)}}var l}function D(b){var l,m,n,o,p=b.originalEvent?b.originalEvent:b;if(xb!==w&&xb!==x&&!Y()){var t,u=p.touches,y=_(u?u[0]:p);if(Bb=fb(),u&&(yb=u.length),c.hold&&clearTimeout(Gb),xb=v,2==yb&&(0==qb?($(1,u[1]),qb=rb=db(zb[0].start,zb[1].start)):(_(u[1]),rb=db(zb[0].end,zb[1].end),zb[0].end,zb[1].end,ub=sb<1?i:h),sb=(rb/qb*1).toFixed(2),tb=Math.abs(qb-rb)),yb===c.fingers||c.fingers===s||!u||P()){if(nb=eb(y.start,y.end),function(a,b){if(!1!==c.preventDefaultEvents)if(c.allowPageScroll===j)a.preventDefault();else{var h=c.allowPageScroll===k;switch(b){case d:(c.swipeLeft&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case e:(c.swipeRight&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case f:(c.swipeUp&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault();break;case g:(c.swipeDown&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault()}}}(b,ob=eb(y.last,y.end)),n=y.start,o=y.end,mb=Math.round(Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2))),pb=cb(),function(a,b){a!=j&&(b=Math.max(b,ab(a)),vb[a].distance=b)}(nb,mb),t=J(p,xb),!c.triggerOnTouchEnd||c.triggerOnTouchLeave){var z=!0;if(c.triggerOnTouchLeave){var A={left:(m=(l=a(l=this)).offset()).left,right:m.left+l.outerWidth(),top:m.top,bottom:m.top+l.outerHeight()};z=function(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}(y.end,A)}!c.triggerOnTouchEnd&&z?xb=I(v):c.triggerOnTouchLeave&&!z&&(xb=I(w)),xb!=x&&xb!=w||J(p,xb)}}else J(p,xb=x);!1===t&&J(p,xb=x)}}function E(a){var b=a.originalEvent?a.originalEvent:a,d=b.touches;if(d){if(d.length&&!Y())return function(a){Cb=fb(),Db=a.touches.length+1}(b),!0;if(d.length&&Y())return!0}return Y()&&(yb=Db),Bb=fb(),pb=cb(),M()||!L()?J(b,xb=x):c.triggerOnTouchEnd||!1===c.triggerOnTouchEnd&&xb===v?(!1!==c.preventDefaultEvents&&!1!==a.cancelable&&a.preventDefault(),J(b,xb=w)):!c.triggerOnTouchEnd&&U()?K(b,xb=w,n):xb===v&&J(b,xb=x),Z(!1),null}function F(){yb=0,Bb=0,Ab=0,qb=0,rb=0,sb=1,X(),Z(!1)}function G(a){var b=a.originalEvent?a.originalEvent:a;c.triggerOnTouchLeave&&J(b,xb=I(w))}function H(){wb.unbind(hb,C),wb.unbind(lb,F),wb.unbind(ib,D),wb.unbind(jb,E),kb&&wb.unbind(kb,G),Z(!1)}function I(a){var b=a,d=N(),e=L(),f=M();return!d||f?b=x:!e||a!=v||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!e&&a==w&&c.triggerOnTouchLeave&&(b=x):b=w,b}function J(a,b){var d,e=a.touches;return(!(!Q()||!R())||R())&&(d=K(a,b,l)),(!(!O()||!P())||P())&&!1!==d&&(d=K(a,b,m)),W()&&V()&&!1!==d?d=K(a,b,o):pb>c.longTapThreshold&&mb<t&&c.longTap&&!1!==d?d=K(a,b,p):!(1!==yb&&y||!(isNaN(mb)||mb<c.threshold)||!U())&&!1!==d&&(d=K(a,b,n)),b===x&&F(),b===w&&(e&&e.length||F()),d}function K(b,j,k){var q;if(k==l){if(wb.trigger("swipeStatus",[j,nb||null,mb||0,pb||0,yb,zb,ob]),c.swipeStatus&&!1===(q=c.swipeStatus.call(wb,b,j,nb||null,mb||0,pb||0,yb,zb,ob)))return!1;if(j==w&&Q()){if(clearTimeout(Fb),clearTimeout(Gb),wb.trigger("swipe",[nb,mb,pb,yb,zb,ob]),c.swipe&&!1===(q=c.swipe.call(wb,b,nb,mb,pb,yb,zb,ob)))return!1;switch(nb){case d:wb.trigger("swipeLeft",[nb,mb,pb,yb,zb,ob]),c.swipeLeft&&(q=c.swipeLeft.call(wb,b,nb,mb,pb,yb,zb,ob));break;case e:wb.trigger("swipeRight",[nb,mb,pb,yb,zb,ob]),c.swipeRight&&(q=c.swipeRight.call(wb,b,nb,mb,pb,yb,zb,ob));break;case f:wb.trigger("swipeUp",[nb,mb,pb,yb,zb,ob]),c.swipeUp&&(q=c.swipeUp.call(wb,b,nb,mb,pb,yb,zb,ob));break;case g:wb.trigger("swipeDown",[nb,mb,pb,yb,zb,ob]),c.swipeDown&&(q=c.swipeDown.call(wb,b,nb,mb,pb,yb,zb,ob))}}}if(k==m){if(wb.trigger("pinchStatus",[j,ub||null,tb||0,pb||0,yb,sb,zb]),c.pinchStatus&&!1===(q=c.pinchStatus.call(wb,b,j,ub||null,tb||0,pb||0,yb,sb,zb)))return!1;if(j==w&&O())switch(ub){case h:wb.trigger("pinchIn",[ub||null,tb||0,pb||0,yb,sb,zb]),c.pinchIn&&(q=c.pinchIn.call(wb,b,ub||null,tb||0,pb||0,yb,sb,zb));break;case i:wb.trigger("pinchOut",[ub||null,tb||0,pb||0,yb,sb,zb]),c.pinchOut&&(q=c.pinchOut.call(wb,b,ub||null,tb||0,pb||0,yb,sb,zb))}}return k==n?j!==x&&j!==w||(clearTimeout(Fb),clearTimeout(Gb),V()&&!W()?(Eb=fb(),Fb=setTimeout(a.proxy(function(){Eb=null,wb.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(wb,b,b.target))},this),c.doubleTapThreshold)):(Eb=null,wb.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(wb,b,b.target)))):k==o?j!==x&&j!==w||(clearTimeout(Fb),clearTimeout(Gb),Eb=null,wb.trigger("doubletap",[b.target]),c.doubleTap&&(q=c.doubleTap.call(wb,b,b.target))):k==p&&(j!==x&&j!==w||(clearTimeout(Fb),Eb=null,wb.trigger("longtap",[b.target]),c.longTap&&(q=c.longTap.call(wb,b,b.target)))),q}function L(){var a=!0;return null!==c.threshold&&(a=mb>=c.threshold),a}function M(){var a=!1;return null!==c.cancelThreshold&&null!==nb&&(a=ab(nb)-mb>=c.cancelThreshold),a}function N(){return!(c.maxTimeThreshold&&pb>=c.maxTimeThreshold)}function O(){var a=S(),b=T(),d=null===c.pinchThreshold||tb>=c.pinchThreshold;return a&&b&&d}function P(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function Q(){var a=N(),b=L(),c=S(),d=T();return!M()&&d&&c&&b&&a}function R(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function S(){return yb===c.fingers||c.fingers===s||!y}function T(){return 0!==zb[0].end.x}function U(){return!!c.tap}function V(){return!!c.doubleTap}function W(){if(null==Eb)return!1;var a=fb();return V()&&a-Eb<=c.doubleTapThreshold}function X(){Cb=0,Db=0}function Y(){var a=!1;return Cb&&fb()-Cb<=c.fingerReleaseThreshold&&(a=!0),a}function Z(a){wb&&(!0===a?(wb.bind(ib,D),wb.bind(jb,E),kb&&wb.bind(kb,G)):(wb.unbind(ib,D,!1),wb.unbind(jb,E,!1),kb&&wb.unbind(kb,G,!1)),wb.data(B+"_intouch",!0===a))}function $(a,b){var c={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return c.start.x=c.last.x=c.end.x=b.pageX||b.clientX,c.start.y=c.last.y=c.end.y=b.pageY||b.clientY,zb[a]=c,c}function _(a){var b=void 0!==a.identifier?a.identifier:0,c=function(a){return zb[a]||null}(b);return null===c&&(c=$(b,a)),c.last.x=c.end.x,c.last.y=c.end.y,c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function ab(a){return vb[a]?vb[a].distance:void 0}function bb(a){return{direction:a,distance:0}}function cb(){return Bb-Ab}function db(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function eb(a,b){if(h=b,(c=a).x==h.x&&c.y==h.y)return j;var c,h,i=function(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}(a,b);return i<=45&&i>=0||i<=360&&i>=315?d:i>=135&&i<=225?e:i>45&&i<135?g:f}function fb(){return(new Date).getTime()}c=a.extend({},c);var gb=y||A||!c.fallbackToMouseEvents,hb=gb?A?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ib=gb?A?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",jb=gb?A?z?"MSPointerUp":"pointerup":"touchend":"mouseup",kb=gb?A?"mouseleave":null:"mouseleave",lb=A?z?"MSPointerCancel":"pointercancel":"touchcancel",mb=0,nb=null,ob=null,pb=0,qb=0,rb=0,sb=1,tb=0,ub=0,vb=null,wb=a(b),xb="start",yb=0,zb={},Ab=0,Bb=0,Cb=0,Db=0,Eb=0,Fb=null,Gb=null;try{wb.bind(hb,C),wb.bind(lb,F)}catch(b){a.error("events not supported "+hb+","+lb+" on jQuery.swipe")}this.enable=function(){return this.disable(),wb.bind(hb,C),wb.bind(lb,F),wb},this.disable=function(){return H(),wb},this.destroy=function(){H(),wb.data(B,null),wb=null},this.option=function(b,d){if("object"==typeof b)c=a.extend(c,b);else if(void 0!==c[b]){if(void 0===d)return c[b];c[b]=d}else{if(!b)return c;a.error("Option "+b+" does not exist on jQuery.swipe.options")}return null}}var d="left",e="right",f="up",g="down",h="in",i="out",j="none",k="auto",l="swipe",m="pinch",n="tap",o="doubletap",p="longtap",q="horizontal",r="vertical",s="all",t=10,u="start",v="move",w="end",x="cancel",y="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!y,A=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!y,B="TouchSwipe";a.fn.swipe=function(c){var d=a(this),e=d.data(B);if(e&&"string"==typeof c){if(e[c])return e[c].apply(e,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(e&&"object"==typeof c)e.option.apply(e,arguments);else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.version="1.6.18",a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},a.fn.swipe.phases={PHASE_START:u,PHASE_MOVE:v,PHASE_END:w,PHASE_CANCEL:x},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g,IN:h,OUT:i},a.fn.swipe.pageScroll={NONE:j,HORIZONTAL:q,VERTICAL:r,AUTO:k},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:s}});